<!DOCTYPE html>
<html>
<head lang="pl">
    <meta charset="UTF-8">
    <title>BLAST demo</title>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
<script type="text/x-handlebars">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                {{link-to 'BLAST' 'index' class="navbar-brand"}}
            </div>
            <ul class="nav navbar-nav">
                {{#link-to 'configuration' tagName="li"}}
                <a href="#" {{bind-attr href="view.href"}}>Configuration</a>
                {{/link-to}}
                {{#each stage in stages}}
                {{#link-to stage.resource tagName="li" disabled=stage.disabled}}
                <a href="#" {{bind-attr href="view.href"}}>{{stage.name}}</a>
                {{/link-to}}
                {{/each}}
                {{#link-to 'about' tagName="li"}}
                <a href="#" {{bind-attr href="view.href"}}>About</a>
                {{/link-to}}
            </ul>
        </div>
    </nav>
    <div style="margin-bottom: 70px;">
    {{outlet}}
    </div>

    <div class="btn-group" style="position: fixed; bottom: 0; height: 50px; background-color: #fff; display: block; width: 100%;">
        <button {{action 'prevStage'}} {{bind-attr disabled=prevStageButtonDisabled}} class="btn btn-default">Previous stage</button>
        <button {{action 'resetStage'}} {{bind-attr disabled=resetStageButtonDisabled}} class="btn btn-default">Reset stage</button>
        <button {{action 'nextStep'}} {{bind-attr disabled=nextStepButtonDisabled}} class="btn btn-default">Next step</button>
        <button {{action 'nextStage'}} {{bind-attr disabled=nextStageButtonDisabled}} class="btn btn-default">Next stage</button>
    </div>
</script>

<script type="text/x-handlebars" id="configuration">
    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-1 control-label">Query sequence</label>
            <div class="col-sm-3">
                {{input value=query.sequence placeholder="Type a DNA sequence" required=true class="form-control"}}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">Word length</label>
            <div class="col-sm-1">
                {{input value=controllers.application.wordLength size=2 placeholder="Set length of a word" required=true class="form-control"}}
            </div>
            <span class="help-block">(K parameter)</span>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">Score threshold</label>
            <div class="col-sm-1">
                {{input value=controllers.application.scoreThreshold size=4 placeholder="Set minimal scoring threshold" required=true class="form-control"}}
            </div>
            <span class="help-block">(T parameter)</span>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">DNA database records</label>
            <div class="col-sm-3">
                <ul class="list-group">
                    {{#each record in records}}
                    <li class="list-group-item">{{record.sequence}}<div class="pull-right"><a {{action 'removeRecordSequence' record}}><span class="glyphicon glyphicon-trash"></span></a></div></li>
                    {{else}}
                    <comment>There is no database records</comment>
                    {{/each}}
                </ul>
                {{input value=newSequenceRecord placeholder="Type a new DNA database record" class="form-control"}}
                <br/>
                <div class="btn-group">
                    <button {{action 'addRecordSequence'}} class="btn btn-primary">Add record</button>
                    <button {{action 'removeAllRecords'}} class="btn btn-danger">Remove all records</button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">DNA database records</label>
            <div class="col-sm-3">
                <ul class="list-group">
                    {{#each record in records}}
                    <li class="list-group-item">{{record.sequence}}<div class="pull-right"><a {{action 'removeRecordSequence' record}}><span class="glyphicon glyphicon-trash"></span></a></div></li>
                    {{else}}
                    <comment>There is no database records</comment>
                    {{/each}}
                </ul>
                {{input value=newSequenceRecord placeholder="Type a new DNA database record" class="form-control"}}
                <br/>
                <div class="btn-group">
                    <button {{action 'addRecordSequence'}} class="btn btn-primary">Add record</button>
                    <button {{action 'removeAllRecords'}} class="btn btn-danger">Remove all records</button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">DNA database records</label>
            <div class="col-sm-3">
                <ul class="list-group">
                    {{#each record in records}}
                    <li class="list-group-item">{{record.sequence}}<div class="pull-right"><a {{action 'removeRecordSequence' record}}><span class="glyphicon glyphicon-trash"></span></a></div></li>
                    {{else}}
                    <comment>There is no database records</comment>
                    {{/each}}
                </ul>
                {{input value=newSequenceRecord placeholder="Type a new DNA database record" class="form-control"}}
                <br/>
                <div class="btn-group">
                    <button {{action 'addRecordSequence'}} class="btn btn-primary">Add record</button>
                    <button {{action 'removeAllRecords'}} class="btn btn-danger">Remove all records</button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">DNA database records</label>
            <div class="col-sm-3">
                <ul class="list-group">
                    {{#each record in records}}
                    <li class="list-group-item">{{record.sequence}}<div class="pull-right"><a {{action 'removeRecordSequence' record}}><span class="glyphicon glyphicon-trash"></span></a></div></li>
                    {{else}}
                    <comment>There is no database records</comment>
                    {{/each}}
                </ul>
                {{input value=newSequenceRecord placeholder="Type a new DNA database record" class="form-control"}}
                <br/>
                <div class="btn-group">
                    <button {{action 'addRecordSequence'}} class="btn btn-primary">Add record</button>
                    <button {{action 'removeAllRecords'}} class="btn btn-danger">Remove all records</button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">DNA database records</label>
            <div class="col-sm-3">
                <ul class="list-group">
                    {{#each record in records}}
                    <li class="list-group-item">{{record.sequence}}<div class="pull-right"><a {{action 'removeRecordSequence' record}}><span class="glyphicon glyphicon-trash"></span></a></div></li>
                    {{else}}
                    <comment>There is no database records</comment>
                    {{/each}}
                </ul>
                {{input value=newSequenceRecord placeholder="Type a new DNA database record" class="form-control"}}
                <br/>
                <div class="btn-group">
                    <button {{action 'addRecordSequence'}} class="btn btn-primary">Add record</button>
                    <button {{action 'removeAllRecords'}} class="btn btn-danger">Remove all records</button>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/x-handlebars" id="init">
    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-1 control-label">Query sequence</label>
            <div class="col-sm-3">
                {{input value=query.sequence disabled=true class="form-control"}}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">Word length</label>
            <div class="col-sm-1">
                {{input value=controllers.application.wordLength size=2 disabled=true class="form-control"}}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">Words</label>
            <div class="col-sm-3">
                <ul class="list-group">
                    {{#each word in words}}
                    <li class="list-group-item">{{word.symbols}}</li>
                    {{else}}
                    <comment>(empty)</comment>
                    {{/each}}
                </ul>
            </div>
        </div>
    </div>
    <pre>ATTAGACACT
ATT
 TTA
  TAG
   AGA
    GAC
     ACA
      CAC
       ACT</pre>
</script>

<script type="text/x-handlebars" id="search">
    <div class="form-horizontal">
        <comment>(empty)</comment>
        <!--TODO implement 'search' view template-->
    </div>
</script>

<script type="text/x-handlebars" id="extend">
    <div class="form-horizontal">
    {{#each wordGroup in wordGroups}}
        <div class="form-group">
            <label class="col-sm-1 control-label">Word</label>
            <div class="col-sm-1">
                {{input value=wordGroup.word disabled=true class="form-control"}}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label">Matched records</label>
            <div class="col-sm-11">
                {{#each record in wordGroup.records}}
                {{record-extension record=record}}
                {{/each}}
            </div>
        </div>
    {{/each}}
    </div>
</script>

<script type="text/x-handlebars" id="results">
    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-1 control-label">Query sequence</label>
            <div class="col-sm-3">
                {{input value=query.sequence disabled=true class="form-control"}}
            </div>
        </div>
        <div class="form-group">
        <label class="col-sm-1 control-label">Best matching results</label>
            <div class="col-sm-1">
                <ul class="list-group">
                    {{#each result in results}}
                    <li class="list-group-item">{{result.prefix}}{{highlight result.match}}{{result.suffix}}</li>
                    {{else}}
                    <comment>(empty)</comment>
                    {{/each}}
                </ul>
        </div>
        </div>
    </div>
</script>

<script type="text/x-handlebars" id="about">
    This Web application presents BLAST algorithm for DNA sequences matching...
</script>

<script type="text/x-handlebars" id="components/record-extension"><pre>
Record:         {{record.sequencePrefixView}}{{highlight record.sequenceMatchView}}{{record.sequenceSuffixView}}
Query:          {{record.queryPrefixView}}{{highlight record.queryMatchView}}{{record.querySuffixView}}
Score:          {{record.scoreView}}
Drop off score: {{record.dropOffView}}</pre>
</script>

<script type="text/javascript" src="js/ext/jquery-1.10.2.js"></script>
<script type="text/javascript" src="js/ext/handlebars-1.1.2.js"></script>
<script type="text/javascript" src="js/ext/ember-1.7.0.js"></script>
<script type="text/javascript" src="js/ext/ember-data.js"></script>
<script type="text/javascript" src="js/application.js"></script>
<script type="text/javascript" src="js/model.js"></script>
<script type="text/javascript" src="js/nucleotid.js"></script>
<script type="text/javascript" src="js/fixtures.js"></script>
<!-- to activate the test runner, add the "?test" query string parameter -->
<script src="tests/runner.js"></script>
</body>
</html>
